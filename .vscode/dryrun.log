make --dry-run --always-make --keep-going --print-directory
make: Entering directory '/home/dog/backup/TunnelOS'
rm -rf *.o fonts/*.o tunnelconfig/*.o
rm -rf temp
rm -rf temp/
mkdir temp
mkdir temp/debug
mkdir temp/iso
mkdir temp/iso/tmp
mkdir temp/iso/tmp/mkbootimg
mkdir temp/iso/tmp/sys
cp -r arch/x86_64/* temp/
cp -r temp/linker/* temp/
cd temp
bash finder.sh
echo * Linking
ld -nostdlib -nostartfiles -T link.ld main.o screen.o stdio.o tunnel.o shell.o cstring.o cint.o panic.o mm.o smt.o keyboard_ps2.o tools.o serial.o idt.o idt_ASM.o pit.o window.o fs.o window_welcome.o shell_mouse.o ide.o event.o fpu_ASM.o path.o hal.o ui.o cpuid_tools_ASM.o sse_ASM.o avx_ASM.o sse.o uhci.o cmos.o test.o arch.o easter.o math.o desktop.o pit_ASM.o tools_ASM.o pic_ASM.o rtc.o stdlib.o encoder.o sort.o cJSON.o cJSON_Utils.o systemconf.o pic.o trnd.o unitype.o placeholder.o system_JSON.o tunnel_JSON.o network.o api.o nmi.o text_PSF.o gui_PSF.o -o tunnel.x86_64.elf || false
strip -K mmio -K fb -K bootboot -K environment -K initstack tunnel.x86_64.elf
readelf -hls tunnel.x86_64.elf > tunnel.x86_64.txt
rm -rf fonts_compiled
mkdir fonts_compiled
mv fonts/*.o fonts_compiled/
cp tunnel.x86_64.elf debug/tunnel.x86_64.elf
cd debug
objdump -D tunnel.x86_64.elf > tunnel.x86_64.txt
cd ..
cp bootboot/mkbootimg iso/tmp/mkbootimg/ -r
cp tunnelconfig/* .
cp config iso/tmp/sys/
cd iso/tmp/mkbootimg/mkbootimg
make all
cp ../../../../tunnel.x86_64.elf . -r
cp ../../../../tunnel.json . -r
./mkbootimg check tunnel.x86_64.elf
mkdir boot
cp ../../sys boot/ -r
cp tunnel.x86_64.elf boot/sys/core -r
./mkbootimg tunnel.json tunnel.x86_64.img
mv tunnel.x86_64.img ../../../tunnel.x86_64.img -v
cd ../../../
rm -rf tmp
iat tunnel.x86_64.img tunnel.x86_64.iso
du -h tunnel.x86_64.iso
du -h ../tunnel.x86_64.elf
rm -rfv tunnel.x86_64.img
cd ../
rm -rf config tunnel.json
make: Leaving directory '/home/dog/backup/TunnelOS'
 
